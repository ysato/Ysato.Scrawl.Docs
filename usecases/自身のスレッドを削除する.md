#### ユースケース名: 自身のスレッドを削除する

* **アクター:** 登録ユーザー (ログインユーザー)
* **目的:** 自身の作成した不要なスレッドを完全に消去する。
* **関連するHTMLモック画面:** スレッド一覧画面 (各スレッドの項目に削除ボタンがあるイメージ)

---

**1. 事前条件:**

* ユーザーはWebアプリケーションにログインしている。
* ユーザーは自身の作成したスレッドを含む**スレッド一覧画面**を閲覧している。
* 一覧の各スレッド項目には、削除をトリガーするためのUI（例: ゴミ箱アイコン、または「削除」ボタンなど）が存在する。

**2. 基本的な流れ（正常系）:**

1. **ユーザーはスレッド一覧画面を開く。**
2. **ユーザーは削除したい自身のスレッドを見つけ、そのスレッド項目にある削除用のUIを操作する。**
    * システムは、削除確認のダイアログまたはモーダルを表示する（例: 「このスレッドを削除してもよろしいですか？この操作は元に戻せません。」）。
3. **ユーザーは削除確認のダイアログで「削除」ボタンをクリックする。**
4. **システムはスレッドの削除処理を実行する。**
    * この際、操作ユーザーとスレッド作成ユーザーが一致するかをバックエンドで検証する。
    * **関連するスクラッチも同時に削除される。**
5. **検証が成功した場合、システムはデータベースから該当スレッドとその関連スクラッチを削除する。**
6. **システムはスレッド一覧の表示から削除されたスレッドを除外し、画面を更新する。**
    * 画面がリロードされるか、Ajaxなどで動的に更新される。
7. **システムは削除成功を通知するメッセージ（任意。例: 「スレッドが削除されました」）を表示する。**

---

**3. 代替の流れ（例外系、エラーなど）:**

* **A. 削除確認をキャンセルした場合:**
    1. ユーザーが削除確認のダイアログで「キャンセル」ボタンをクリックする。
    2. システムは削除処理を中止し、スレッド一覧の表示は変化しない。
* **B. 自身のスレッド以外を削除しようとした場合:**
    1. ユーザーが他のユーザーのスレッドの削除UIを操作する。（UI上で制限されているが、バックエンドでの検証を想定）
    2. システムは操作ユーザーとスレッド作成ユーザーが一致しないことを検知する。
    3. システムはエラーメッセージ（例: 「他のユーザーのスレッドは削除できません」）を表示し、処理を中断する。スレッドは削除されない。
* **C. 存在しないスレッドを削除しようとした場合:**
    1. ユーザーが何らかの理由で（例えば、古いキャッシュや不正なリクエストで）既に削除されたスレッドを削除しようとする。
    2. システムは該当スレッドが見つからないことを検知する。
    3. システムはエラーメッセージ（例: 「指定されたスレッドは見つかりません」）を表示し、処理を中断する。
* **D. システムエラーが発生した場合:**
    1. ユーザーが削除操作を行う。
    2. データベース削除中に予期せぬエラーが発生する。
    3. システムは一般的なエラーメッセージ（例: 「スレッドの削除中にエラーが発生しました。時間をおいて再度お試しください。」）を表示し、スレッドは削除されない。

---

**4. 事後条件:**

* スレッドが正常に削除された場合: データベースから該当スレッドとその関連スクラッチが削除され、ユーザーはスレッド一覧画面で削除されたスレッドが一覧に表示されないことを確認できる。
* スレッドが削除されなかった場合: ユーザーはスレッド一覧画面に留まり、エラーメッセージが表示される。

